import Link from "next/link";
export const metadata = {
  title: "Scoring",
  description: "Generated by create next app",
};

const getData = async () => {
  const res = await fetch("http://localhost:3000/api/schedule", {
    cache: "no-store",
  });
  const data = await res.json();
  return data;
};

export default async function layout({ children, params }) {
  const scheules = await getData();
  const schedule = scheules?.data?.filter((sdl) => sdl.id == params.id);
  const { teamNameVs, vsTeamName, tossWinTeam, chooseTo, matchNo } =
    schedule[0];
  return (
    <html className="bg-gray-400" lang="en">
      <body className="m-3">
        <div className="mb-4">
          <nav className="w-[80%] m-auto sm:m-0  ">
            <ul className="flex sm:w-[30%] w-[70%] sm:space-x-16 space-x-6 m-auto text-center">
              <li>
                <Link href={`/scooring/${params.id}`}>LIVE</Link>
              </li>
              <li>
                <Link href={`/scooring/${params.id}/scorcut`}>Scorcut</Link>
              </li>
              <li>
                <Link href={`/scooring/${params.id}/info`}>Info</Link>
              </li>
              <li>
                <Link href={`/scooring/${params.id}/addInformationSchedule`}>
                  Add Info
                </Link>
              </li>
              <li>
                <Link href={`/`}>Home</Link>
              </li>
            </ul>
          </nav>
          <div className="text-center text-2xl mt-5 font-bold mb-2">
            <h1>
              {teamNameVs} <span className="text-red-500">VS</span> {vsTeamName}
            </h1>
          </div>
          <hr />
        </div>
        {children}
      </body>
    </html>
  );
}
